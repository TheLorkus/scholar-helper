Supabase scheduling plan:
1. Enable `pg_net` and `pg_cron` extensions so the database can make HTTP requests and run scheduled jobs.
2. Add `call_season_sync()` which posts to the existing `season-sync` function via `net.http_post` using the service role key.
3. Use `cron.schedule` to run `call_season_sync()` hourly; the scheduled-job name is `season-sync-hourly`.
4. After the migrations are pushed, adjust the Supabase Scheduler entry if needed (via SQL or the UI) to trigger at the desired season time.
5. Use `scripts/update_season_schedule.py` to reach into the current season endpoint, compute „season end − 10m“, and call `supabase_scheduler` so the cron expression stays in sync automatically.
6. Consider deploying an Edge Function (`update-season-schedule`) whose sole job is to run daily, compute the new cron, and patch the scheduler by calling the same RPC; schedule this helper from Supabase so the automation runs without a local script.
7. Keep a list of CLI steps for manual operation if automation isn’t available: `supabase functions deploy update-season-schedule`, `supabase scheduling create --name refresh-season-sync-cron --schedule "0 0 * * *" --type function ...`, and rerun `scripts/update_season_schedule.py` or the scheduler function whenever an extra manual update is needed.

Status:
- pg_cron jobs `season-sync-hourly` and `refresh-season-sync-cron` are installed and checked via MCP; they POST to the deployed Edge functions, so the hourly season sync and daily scheduler refresh are live.
- Added `scripts/import_season_history.py` plus README guidance to import historical CSVs into `public.season_rewards`, including the new `scholar_payout` column so the Scholar History tab always shows the “paid to scholar” amount.
- Streamlit UI now surfaces the currency price table in the sidebar, derives historical Scholar Payout values from either the imported column or the live API, and limits payout-currency edits to the two newest history rows.
